const H=t=>e=>Object.prototype.toString.call(e)===`[object ${t}]`,O=H("Object"),E=t=>t instanceof HTMLElement,S=(t,e,o)=>{const i=Object.assign({},o);let l=0;if(E(t))for(;t.parentNode;){if(e(t,l))return t;if(l++,t=t.parentNode,i.root&&t===i.root){e&&e(t,l);break}}},T=(t,e)=>{O(e)&&Object.keys(e).forEach(o=>{t.style[o]=e[o]})},b=(t,e)=>t&&t.getAttribute?t.getAttribute(e):null,W=t=>new DOMParser().parseFromString(t,"text/html"),A=(t,e=document.querySelector("body"))=>{var i;const o=(i=W(t).querySelector("body"))==null?void 0:i.childNodes;if(o&&o.length)for(let l=0;l<o.length;l++)e==null||e.appendChild(o[l])};let x=!1;const w=t=>{if(x)return;const e=Object.assign({},{mouseEnterDelay:100,bubblingLevel:3},t);A('<div id="lib-ellipsis-tooltip"></div>');let o=0,i=null,l=!1;document.addEventListener("mousemove",f=>{const n=S(f.target,(r,p)=>{const u=b(r,"lib-ellipsis-tooltip"),c=b(r,"lib-tooltip"),d=b(r,"lib-tooltip-bubbling")||3;return o=0,u!==null&&u!=="false"?(o=1,!0):c!==null&&c!=="false"?(o=2,!0):p>=d||p>=e.bubblingLevel}),s=document.getElementById("lib-ellipsis-tooltip"),g=()=>{i&&(clearTimeout(i),i=null,l=!1),T(s,{visibility:"hidden"})};if(!o||!n){g();return}const y=r=>{s.innerText=r;const p=document.body.clientWidth,u=document.body.clientHeight,c=s.offsetWidth,d=s.offsetHeight,m=f.clientX+10,h=f.clientY+15,v=c+m>p?m-c-25:m,j=d+h>u?h-d-25:h;T(s,{visibility:"visible",left:v+"px",top:j+"px"})},a=b(n,"lib-tooltip-content");o===1&&(n.offsetWidth<n.scrollWidth||n.offsetHeight<n.scrollHeight)||a?l?y(a||n.innerText):(clearTimeout(i),i=setTimeout(()=>{l=!0,y(a||n.innerText)},e.mouseEnterDelay)):g()}),x=!0};export{w as default};
